{"id":"screen-ocr-llm-0da","title":"Revise test protocol to incremental-by-default","description":"Update project AGENTS guidance to prefer incremental test execution during implementation, avoid rerunning unchanged suites per issue, and run full go test ./... only once at handoff or when changes are cross-cutting or explicitly requested.","status":"closed","priority":2,"issue_type":"task","owner":"bogorad@gmail.com","created_at":"2026-02-14T13:23:57.2821966+01:00","created_by":"Eugene Bogorad","updated_at":"2026-02-14T13:24:46.1217539+01:00","closed_at":"2026-02-14T13:24:46.1217539+01:00","close_reason":"Completed"}
{"id":"screen-ocr-llm-2jk","title":"Update .env.example and docs for key file config","description":"Add OPENROUTER_API_KEY_FILE and precedence guidance to .env.example and BUILD_INSTRUCTIONS.md, including updated hotkey key range documentation.","status":"closed","priority":2,"issue_type":"task","owner":"bogorad@gmail.com","created_at":"2026-02-14T14:07:01.2419213+01:00","created_by":"Eugene Bogorad","updated_at":"2026-02-14T14:07:52.8739259+01:00","closed_at":"2026-02-14T14:07:52.8739259+01:00","close_reason":"Completed"}
{"id":"screen-ocr-llm-2p1","title":"Stabilize tests package for non-interactive CI runs","description":"Full ok  \tscreen-ocr-llm/src/clipboard\t(cached)\nok  \tscreen-ocr-llm/src/cmd/cli\t(cached)\nok  \tscreen-ocr-llm/src/cmd/stress-runonce\t(cached)\nok  \tscreen-ocr-llm/src/config\t(cached)\n?   \tscreen-ocr-llm/src/eventloop\t[no test files]\nok  \tscreen-ocr-llm/src/gui\t(cached)\nok  \tscreen-ocr-llm/src/hotkey\t(cached)\nok  \tscreen-ocr-llm/src/llm\t(cached)\n?   \tscreen-ocr-llm/src/logutil\t[no test files]\nok  \tscreen-ocr-llm/src/main\t(cached)\n?   \tscreen-ocr-llm/src/messages\t[no test files]\n?   \tscreen-ocr-llm/src/notification\t[no test files]\nok  \tscreen-ocr-llm/src/ocr\t(cached)\n?   \tscreen-ocr-llm/src/overlay\t[no test files]\n?   \tscreen-ocr-llm/src/popup\t[no test files]\n?   \tscreen-ocr-llm/src/process\t[no test files]\n?   \tscreen-ocr-llm/src/router\t[no test files]\n?   \tscreen-ocr-llm/src/runtimeinit\t[no test files]\nok  \tscreen-ocr-llm/src/screenshot\t(cached)\n?   \tscreen-ocr-llm/src/session\t[no test files]\nok  \tscreen-ocr-llm/src/singleinstance\t(cached)\n?   \tscreen-ocr-llm/src/tray\t[no test files]\nok  \tscreen-ocr-llm/src/worker\t(cached)\nok  \tscreen-ocr-llm/tests\t28.154s still fails in  due interactive OCR/hotkey flows and live provider responses (e.g., 502 from external API). Gate or refactor integration/debug tests so default suite is deterministic and non-interactive while preserving manual diagnostics paths.","acceptance_criteria":"ok  \tscreen-ocr-llm/src/clipboard\t(cached)\nok  \tscreen-ocr-llm/src/cmd/cli\t(cached)\nok  \tscreen-ocr-llm/src/cmd/stress-runonce\t(cached)\nok  \tscreen-ocr-llm/src/config\t(cached)\n?   \tscreen-ocr-llm/src/eventloop\t[no test files]\nok  \tscreen-ocr-llm/src/gui\t(cached)\nok  \tscreen-ocr-llm/src/hotkey\t(cached)\nok  \tscreen-ocr-llm/src/llm\t(cached)\n?   \tscreen-ocr-llm/src/logutil\t[no test files]\nok  \tscreen-ocr-llm/src/main\t(cached)\n?   \tscreen-ocr-llm/src/messages\t[no test files]\n?   \tscreen-ocr-llm/src/notification\t[no test files]\nok  \tscreen-ocr-llm/src/ocr\t(cached)\n?   \tscreen-ocr-llm/src/overlay\t[no test files]\n?   \tscreen-ocr-llm/src/popup\t[no test files]\n?   \tscreen-ocr-llm/src/process\t[no test files]\n?   \tscreen-ocr-llm/src/router\t[no test files]\n?   \tscreen-ocr-llm/src/runtimeinit\t[no test files]\nok  \tscreen-ocr-llm/src/screenshot\t(cached)\n?   \tscreen-ocr-llm/src/session\t[no test files]\nok  \tscreen-ocr-llm/src/singleinstance\t(cached)\n?   \tscreen-ocr-llm/src/tray\t[no test files]\nok  \tscreen-ocr-llm/src/worker\t(cached)\nok  \tscreen-ocr-llm/tests\t(cached) passes in non-interactive environment without external API dependencies.","status":"open","priority":3,"issue_type":"bug","owner":"bogorad@gmail.com","created_at":"2026-02-14T16:44:40.715525+01:00","created_by":"Eugene Bogorad","updated_at":"2026-02-14T16:44:40.715525+01:00"}
{"id":"screen-ocr-llm-2we","title":"Fix tests/test_popup_flow.go duplicate main declaration","description":"go test ./... fails because tests/test_popup_flow.go declares main at line 15, conflicting with tests/test_clipboard.go line 10. Refactor this test so package tests compiles without duplicate main declarations.","status":"closed","priority":2,"issue_type":"bug","owner":"bogorad@gmail.com","created_at":"2026-02-14T13:15:57.5916975+01:00","created_by":"Eugene Bogorad","updated_at":"2026-02-14T13:23:17.6667603+01:00","closed_at":"2026-02-14T13:23:17.6667603+01:00","close_reason":"Completed"}
{"id":"screen-ocr-llm-4wb","title":"Overlay key polling misses quick Space taps","description":"Resident selection overlay polls GetAsyncKeyState and currently only checks high-bit down state. Quick key taps between timer ticks are missed, so Space/Escape can require repeated presses. Use low-bit pressed-since-last-call signal to capture short taps reliably while keeping debounce.","acceptance_criteria":"Single quick Space or Escape tap is recognized reliably in resident overlay.","status":"closed","priority":1,"issue_type":"bug","owner":"bogorad@gmail.com","created_at":"2026-02-14T16:10:01.2056387+01:00","created_by":"Eugene Bogorad","updated_at":"2026-02-14T16:10:52.5850521+01:00","closed_at":"2026-02-14T16:10:52.5850521+01:00","close_reason":"Updated async polling to use GetAsyncKeyState low-bit so short Space/Escape taps are captured between timer ticks"}
{"id":"screen-ocr-llm-69x","title":"Add detailed 2.6.0 release documentation","description":"Create a dedicated 2.6.0 release document that clearly covers .env configuration, CLI arguments, and precedence rules for config loading, api key resolution, and default mode behavior.","acceptance_criteria":"Release doc exists under docs with explicit examples and precedence tables; docs index links to it.","status":"closed","priority":2,"issue_type":"task","owner":"bogorad@gmail.com","created_at":"2026-02-14T16:53:09.4603246+01:00","created_by":"Eugene Bogorad","updated_at":"2026-02-14T16:54:19.5105788+01:00","closed_at":"2026-02-14T16:54:19.5105788+01:00","close_reason":"Added dedicated 2.6.0 release documentation with .env, CLI args, and precedence rules plus docs index links"}
{"id":"screen-ocr-llm-74j","title":"Lasso selection mode with masked OCR capture","description":"Implement rectangular/lasso selection modes in the Windows overlay while preserving ADR invariants. Lasso mode finalizes on mouse-up near start, outside-mask fill is solid white, and lasso cursor uses hand cursor. Scope includes selector UX/state, polygon region transport, masked capture, tests, and validation across resident/delegated/run-once flows.","status":"closed","priority":1,"issue_type":"epic","owner":"bogorad@gmail.com","created_at":"2026-02-14T15:41:58.7261557+01:00","created_by":"Eugene Bogorad","updated_at":"2026-02-14T15:51:29.796881+01:00","closed_at":"2026-02-14T15:51:29.796881+01:00","close_reason":"All lasso implementation child tasks completed and validated"}
{"id":"screen-ocr-llm-74j.1","title":"Define lasso behavior contract and ADR guardrails","description":"Document implementation contract for Rect and Lasso modes and lock invariants from ADR-001, ADR-004, ADR-006, ADR-007, ADR-009, and run-once guardrails. Codify decisions: completion on mouse-up near start, white outside-mask fill, and hand cursor in lasso mode.","acceptance_criteria":"Contract is recorded and referenced by implementation tasks; no invariant ambiguity remains.","status":"closed","priority":2,"issue_type":"task","owner":"bogorad@gmail.com","created_at":"2026-02-14T15:42:20.8356505+01:00","created_by":"Eugene Bogorad","updated_at":"2026-02-14T15:43:12.1407068+01:00","closed_at":"2026-02-14T15:43:12.1407068+01:00","close_reason":"Contract and ADR guardrails captured in epic and child issue details","dependencies":[{"issue_id":"screen-ocr-llm-74j.1","depends_on_id":"screen-ocr-llm-74j","type":"parent-child","created_at":"2026-02-14T15:42:20.838649+01:00","created_by":"Eugene Bogorad"}]}
{"id":"screen-ocr-llm-74j.10","title":"Apply virtual-screen offset handling to polygon coordinates","description":"Ensure lasso polygon points and derived bounding box use virtual-screen coordinate offsets consistently for multi-monitor and non-zero virtual origin setups.","acceptance_criteria":"Polygon and bbox are accurate across monitor arrangements including negative virtual origins.","status":"closed","priority":1,"issue_type":"task","owner":"bogorad@gmail.com","created_at":"2026-02-14T15:42:24.6615839+01:00","created_by":"Eugene Bogorad","updated_at":"2026-02-14T15:48:56.1876933+01:00","closed_at":"2026-02-14T15:48:56.1876933+01:00","close_reason":"Applied virtual-screen offsets to lasso polygon points and bounding rectangle","dependencies":[{"issue_id":"screen-ocr-llm-74j.10","depends_on_id":"screen-ocr-llm-74j","type":"parent-child","created_at":"2026-02-14T15:42:24.665071+01:00","created_by":"Eugene Bogorad"},{"issue_id":"screen-ocr-llm-74j.10","depends_on_id":"screen-ocr-llm-74j.2","type":"blocks","created_at":"2026-02-14T15:42:44.6703993+01:00","created_by":"Eugene Bogorad"},{"issue_id":"screen-ocr-llm-74j.10","depends_on_id":"screen-ocr-llm-74j.5","type":"blocks","created_at":"2026-02-14T15:42:44.9678517+01:00","created_by":"Eugene Bogorad"}]}
{"id":"screen-ocr-llm-74j.11","title":"Add tests for polygon geometry and masking behavior","description":"Add unit tests for polygon normalization, closure checks, bbox derivation, and white-mask rasterization in screenshot path; keep interactive tests gated.","acceptance_criteria":"New tests cover success and rejection paths and pass in non-interactive CI-safe environments.","status":"closed","priority":2,"issue_type":"task","owner":"bogorad@gmail.com","created_at":"2026-02-14T15:42:25.0773635+01:00","created_by":"Eugene Bogorad","updated_at":"2026-02-14T15:49:01.3580962+01:00","closed_at":"2026-02-14T15:49:01.3580962+01:00","close_reason":"Added polygon geometry and white-mask unit tests in screenshot package","dependencies":[{"issue_id":"screen-ocr-llm-74j.11","depends_on_id":"screen-ocr-llm-74j","type":"parent-child","created_at":"2026-02-14T15:42:25.0803624+01:00","created_by":"Eugene Bogorad"},{"issue_id":"screen-ocr-llm-74j.11","depends_on_id":"screen-ocr-llm-74j.9","type":"blocks","created_at":"2026-02-14T15:42:45.8784019+01:00","created_by":"Eugene Bogorad"},{"issue_id":"screen-ocr-llm-74j.11","depends_on_id":"screen-ocr-llm-74j.10","type":"blocks","created_at":"2026-02-14T15:42:46.1718648+01:00","created_by":"Eugene Bogorad"},{"issue_id":"screen-ocr-llm-74j.11","depends_on_id":"screen-ocr-llm-74j.6","type":"blocks","created_at":"2026-02-14T15:42:46.4687675+01:00","created_by":"Eugene Bogorad"}]}
{"id":"screen-ocr-llm-74j.12","title":"Run validation suite and update user-facing docs","description":"Run incremental package tests during implementation, then full go test and relevant build target near handoff; update README/docs text for lasso controls and behavior.","acceptance_criteria":"Quality gates pass for changed scope and docs reflect Rect/Lasso behavior and mask semantics.","status":"closed","priority":2,"issue_type":"task","owner":"bogorad@gmail.com","created_at":"2026-02-14T15:42:25.4894584+01:00","created_by":"Eugene Bogorad","updated_at":"2026-02-14T15:51:21.8950082+01:00","closed_at":"2026-02-14T15:51:21.8950082+01:00","close_reason":"Ran validation suite, updated README for Rect/Lasso controls, and verified run-once path via CLI tests plus --run-once execution","dependencies":[{"issue_id":"screen-ocr-llm-74j.12","depends_on_id":"screen-ocr-llm-74j","type":"parent-child","created_at":"2026-02-14T15:42:25.492458+01:00","created_by":"Eugene Bogorad"},{"issue_id":"screen-ocr-llm-74j.12","depends_on_id":"screen-ocr-llm-74j.4","type":"blocks","created_at":"2026-02-14T15:42:46.7726588+01:00","created_by":"Eugene Bogorad"},{"issue_id":"screen-ocr-llm-74j.12","depends_on_id":"screen-ocr-llm-74j.6","type":"blocks","created_at":"2026-02-14T15:42:47.0860841+01:00","created_by":"Eugene Bogorad"},{"issue_id":"screen-ocr-llm-74j.12","depends_on_id":"screen-ocr-llm-74j.7","type":"blocks","created_at":"2026-02-14T15:42:47.4301906+01:00","created_by":"Eugene Bogorad"},{"issue_id":"screen-ocr-llm-74j.12","depends_on_id":"screen-ocr-llm-74j.8","type":"blocks","created_at":"2026-02-14T15:42:47.8096794+01:00","created_by":"Eugene Bogorad"},{"issue_id":"screen-ocr-llm-74j.12","depends_on_id":"screen-ocr-llm-74j.9","type":"blocks","created_at":"2026-02-14T15:42:48.2234268+01:00","created_by":"Eugene Bogorad"},{"issue_id":"screen-ocr-llm-74j.12","depends_on_id":"screen-ocr-llm-74j.10","type":"blocks","created_at":"2026-02-14T15:42:48.5653589+01:00","created_by":"Eugene Bogorad"},{"issue_id":"screen-ocr-llm-74j.12","depends_on_id":"screen-ocr-llm-74j.11","type":"blocks","created_at":"2026-02-14T15:42:48.8727514+01:00","created_by":"Eugene Bogorad"}]}
{"id":"screen-ocr-llm-74j.2","title":"Extend screenshot.Region with optional polygon data","description":"Add optional polygon support to screenshot.Region while preserving X, Y, Width, Height rectangle fields and compatibility across eventloop/session/worker paths.","acceptance_criteria":"Rectangle-only callers continue to compile unchanged; region can carry polygon points in virtual-screen coordinates.","status":"closed","priority":2,"issue_type":"task","owner":"bogorad@gmail.com","created_at":"2026-02-14T15:42:21.2276013+01:00","created_by":"Eugene Bogorad","updated_at":"2026-02-14T15:43:49.6945689+01:00","closed_at":"2026-02-14T15:43:49.6945689+01:00","close_reason":"Added optional polygon field and point type to screenshot.Region with compatibility preserved","dependencies":[{"issue_id":"screen-ocr-llm-74j.2","depends_on_id":"screen-ocr-llm-74j","type":"parent-child","created_at":"2026-02-14T15:42:21.2301023+01:00","created_by":"Eugene Bogorad"},{"issue_id":"screen-ocr-llm-74j.2","depends_on_id":"screen-ocr-llm-74j.1","type":"blocks","created_at":"2026-02-14T15:42:42.2031103+01:00","created_by":"Eugene Bogorad"}]}
{"id":"screen-ocr-llm-74j.3","title":"Add selector mode state for Rect and Lasso","description":"Introduce overlay selector mode state in Windows region selector with deterministic initialization per invocation and default Rect mode.","acceptance_criteria":"Each new selection starts in Rect mode and mode state is isolated per invocation.","status":"closed","priority":2,"issue_type":"task","owner":"bogorad@gmail.com","created_at":"2026-02-14T15:42:21.6402694+01:00","created_by":"Eugene Bogorad","updated_at":"2026-02-14T15:48:24.6535336+01:00","closed_at":"2026-02-14T15:48:24.6535336+01:00","close_reason":"Added selector mode state with deterministic Rect default per invocation","dependencies":[{"issue_id":"screen-ocr-llm-74j.3","depends_on_id":"screen-ocr-llm-74j","type":"parent-child","created_at":"2026-02-14T15:42:21.6443112+01:00","created_by":"Eugene Bogorad"},{"issue_id":"screen-ocr-llm-74j.3","depends_on_id":"screen-ocr-llm-74j.1","type":"blocks","created_at":"2026-02-14T15:42:42.506644+01:00","created_by":"Eugene Bogorad"}]}
{"id":"screen-ocr-llm-74j.4","title":"Implement keyboard controls for mode toggle and cancel","description":"Handle WM_KEYDOWN Space to toggle Rect/Lasso mode and keep Escape cancel semantics exactly as current behavior.","acceptance_criteria":"Space toggles modes reliably; Escape still cancels selection across modes.","status":"closed","priority":2,"issue_type":"task","owner":"bogorad@gmail.com","created_at":"2026-02-14T15:42:22.0313344+01:00","created_by":"Eugene Bogorad","updated_at":"2026-02-14T15:48:40.2114707+01:00","closed_at":"2026-02-14T15:48:40.2114707+01:00","close_reason":"Implemented Space toggle between Rect and Lasso and preserved Escape cancellation","dependencies":[{"issue_id":"screen-ocr-llm-74j.4","depends_on_id":"screen-ocr-llm-74j","type":"parent-child","created_at":"2026-02-14T15:42:22.0338349+01:00","created_by":"Eugene Bogorad"},{"issue_id":"screen-ocr-llm-74j.4","depends_on_id":"screen-ocr-llm-74j.3","type":"blocks","created_at":"2026-02-14T15:42:42.8260135+01:00","created_by":"Eugene Bogorad"}]}
{"id":"screen-ocr-llm-74j.5","title":"Implement lasso path capture and close-loop completion","description":"Capture lasso points during drag, apply point sampling to avoid excessive density, and finalize only on mouse-up near start with minimum-point and minimum-area thresholds.","acceptance_criteria":"Lasso completes only after loop closure rule is met; small/noisy shapes are rejected consistently.","status":"closed","priority":2,"issue_type":"task","owner":"bogorad@gmail.com","created_at":"2026-02-14T15:42:22.4090595+01:00","created_by":"Eugene Bogorad","updated_at":"2026-02-14T15:48:41.7063447+01:00","closed_at":"2026-02-14T15:48:41.7063447+01:00","close_reason":"Implemented lasso drag path capture with closure-on-mouse-up near start plus size/area validation","dependencies":[{"issue_id":"screen-ocr-llm-74j.5","depends_on_id":"screen-ocr-llm-74j","type":"parent-child","created_at":"2026-02-14T15:42:22.4115576+01:00","created_by":"Eugene Bogorad"},{"issue_id":"screen-ocr-llm-74j.5","depends_on_id":"screen-ocr-llm-74j.3","type":"blocks","created_at":"2026-02-14T15:42:43.1337812+01:00","created_by":"Eugene Bogorad"}]}
{"id":"screen-ocr-llm-74j.6","title":"Preserve rectangle selection flow without regression","description":"Keep existing click-drag rectangle behavior and resulting region math unchanged when selector is in Rect mode.","acceptance_criteria":"Rect mode output matches existing behavior and existing region validation still applies.","status":"closed","priority":2,"issue_type":"task","owner":"bogorad@gmail.com","created_at":"2026-02-14T15:42:22.7582325+01:00","created_by":"Eugene Bogorad","updated_at":"2026-02-14T15:48:43.1548145+01:00","closed_at":"2026-02-14T15:48:43.1548145+01:00","close_reason":"Preserved existing rectangle selection path and validation in Rect mode","dependencies":[{"issue_id":"screen-ocr-llm-74j.6","depends_on_id":"screen-ocr-llm-74j","type":"parent-child","created_at":"2026-02-14T15:42:22.7607333+01:00","created_by":"Eugene Bogorad"},{"issue_id":"screen-ocr-llm-74j.6","depends_on_id":"screen-ocr-llm-74j.3","type":"blocks","created_at":"2026-02-14T15:42:43.4465469+01:00","created_by":"Eugene Bogorad"}]}
{"id":"screen-ocr-llm-74j.7","title":"Render lasso visuals and instruction hints","description":"Draw live lasso polyline, start anchor, and concise on-overlay hints for controls and completion requirements.","acceptance_criteria":"Visual guidance is present in overlay and updates correctly while drawing and toggling modes.","status":"closed","priority":2,"issue_type":"task","owner":"bogorad@gmail.com","created_at":"2026-02-14T15:42:23.1975699+01:00","created_by":"Eugene Bogorad","updated_at":"2026-02-14T15:48:53.0911584+01:00","closed_at":"2026-02-14T15:48:53.0911584+01:00","close_reason":"Added lasso polyline rendering, start anchor, and on-overlay usage hints","dependencies":[{"issue_id":"screen-ocr-llm-74j.7","depends_on_id":"screen-ocr-llm-74j","type":"parent-child","created_at":"2026-02-14T15:42:23.1996721+01:00","created_by":"Eugene Bogorad"},{"issue_id":"screen-ocr-llm-74j.7","depends_on_id":"screen-ocr-llm-74j.3","type":"blocks","created_at":"2026-02-14T15:42:43.7680381+01:00","created_by":"Eugene Bogorad"},{"issue_id":"screen-ocr-llm-74j.7","depends_on_id":"screen-ocr-llm-74j.5","type":"blocks","created_at":"2026-02-14T15:42:44.0726577+01:00","created_by":"Eugene Bogorad"}]}
{"id":"screen-ocr-llm-74j.8","title":"Switch cursor by mode with hand cursor for lasso","description":"Use cross cursor for Rect mode and hand cursor for Lasso mode via WM_SETCURSOR handling and fallback logging.","acceptance_criteria":"Cursor reflects active mode consistently on multi-monitor setups.","status":"closed","priority":2,"issue_type":"task","owner":"bogorad@gmail.com","created_at":"2026-02-14T15:42:23.8919009+01:00","created_by":"Eugene Bogorad","updated_at":"2026-02-14T15:48:44.9877217+01:00","closed_at":"2026-02-14T15:48:44.9877217+01:00","close_reason":"Added cursor switching: cross for Rect and hand for Lasso with fallback","dependencies":[{"issue_id":"screen-ocr-llm-74j.8","depends_on_id":"screen-ocr-llm-74j","type":"parent-child","created_at":"2026-02-14T15:42:23.8949161+01:00","created_by":"Eugene Bogorad"},{"issue_id":"screen-ocr-llm-74j.8","depends_on_id":"screen-ocr-llm-74j.3","type":"blocks","created_at":"2026-02-14T15:42:44.3688608+01:00","created_by":"Eugene Bogorad"}]}
{"id":"screen-ocr-llm-74j.9","title":"Implement masked capture pipeline with white outside fill","description":"Keep rectangular capture to LLM boundary but apply polygon mask when present: capture bounding rectangle, fill outside polygon with solid white, encode and send PNG as usual.","acceptance_criteria":"Lasso captures send rectangular PNG where pixels outside polygon are white; rectangle mode output unchanged.","status":"closed","priority":1,"issue_type":"task","owner":"bogorad@gmail.com","created_at":"2026-02-14T15:42:24.2601606+01:00","created_by":"Eugene Bogorad","updated_at":"2026-02-14T15:48:54.7805962+01:00","closed_at":"2026-02-14T15:48:54.7805962+01:00","close_reason":"Implemented polygon-masked rectangular capture with solid white fill outside lasso","dependencies":[{"issue_id":"screen-ocr-llm-74j.9","depends_on_id":"screen-ocr-llm-74j","type":"parent-child","created_at":"2026-02-14T15:42:24.2626595+01:00","created_by":"Eugene Bogorad"},{"issue_id":"screen-ocr-llm-74j.9","depends_on_id":"screen-ocr-llm-74j.2","type":"blocks","created_at":"2026-02-14T15:42:45.2645211+01:00","created_by":"Eugene Bogorad"},{"issue_id":"screen-ocr-llm-74j.9","depends_on_id":"screen-ocr-llm-74j.5","type":"blocks","created_at":"2026-02-14T15:42:45.5690387+01:00","created_by":"Eugene Bogorad"}]}
{"id":"screen-ocr-llm-9wy","title":"Align .justfile Linux target to CLI-only binary","description":"Update .justfile so the Linux build target produces the CLI-only ocr-tool binary from src/cmd/cli, matching repository behavior on Linux/Wayland.","status":"closed","priority":2,"issue_type":"task","owner":"bogorad@gmail.com","created_at":"2026-02-14T13:07:51.2504003+01:00","created_by":"Eugene Bogorad","updated_at":"2026-02-14T13:08:51.898352+01:00","closed_at":"2026-02-14T13:08:51.898352+01:00","close_reason":"Completed"}
{"id":"screen-ocr-llm-b4i","title":"Fix unused import in tests/debug_test.go","description":"go test ./... fails to compile tests package because tests/debug_test.go imports screen-ocr-llm/src/screenshot but does not use it. Remove or use the import so package compiles.","status":"closed","priority":3,"issue_type":"bug","owner":"bogorad@gmail.com","created_at":"2026-02-14T13:16:02.5495186+01:00","created_by":"Eugene Bogorad","updated_at":"2026-02-14T13:23:17.9657609+01:00","closed_at":"2026-02-14T13:23:17.9657609+01:00","close_reason":"Completed"}
{"id":"screen-ocr-llm-bo3","title":"Add DEFAULT_MODE config for initial selection mode","description":"Add configuration option DEFAULT_MODE with default rectangle behavior and optional lasso value. Wire through config load and selector initialization so resident and --run-once both start in configured mode.","acceptance_criteria":"When DEFAULT_MODE=lasso, selection starts in lasso mode; otherwise defaults to rectangle.","status":"closed","priority":1,"issue_type":"task","owner":"bogorad@gmail.com","created_at":"2026-02-14T16:13:20.6891018+01:00","created_by":"Eugene Bogorad","updated_at":"2026-02-14T16:18:15.0712458+01:00","closed_at":"2026-02-14T16:18:15.0712458+01:00","close_reason":"Added DEFAULT_MODE config plus --default-mode override with rect/rectangle/lasso normalization and wired initial selector mode for resident and run-once"}
{"id":"screen-ocr-llm-dq8","title":"Fix tests/test_ocr_with_image.go duplicate main declaration","description":"go test ./... fails because tests/test_ocr_with_image.go declares main at line 14, conflicting with tests/test_clipboard.go line 10. Refactor this test so package tests compiles without duplicate main declarations.","status":"closed","priority":2,"issue_type":"bug","owner":"bogorad@gmail.com","created_at":"2026-02-14T13:14:20.5144867+01:00","created_by":"Eugene Bogorad","updated_at":"2026-02-14T13:23:17.3348372+01:00","closed_at":"2026-02-14T13:23:17.3348372+01:00","close_reason":"Completed"}
{"id":"screen-ocr-llm-f1f","title":"Stabilize src/gui TestStartRegionSelection timeout","description":"go test ./... -count=1 -timeout 60s times out in src/gui/TestStartRegionSelection while waiting for interactive overlay input. Make the test deterministic and non-interactive, or gate it from default automated test runs.","status":"closed","priority":1,"issue_type":"bug","owner":"bogorad@gmail.com","created_at":"2026-02-14T13:16:08.4322157+01:00","created_by":"Eugene Bogorad","updated_at":"2026-02-14T13:23:18.2655512+01:00","closed_at":"2026-02-14T13:23:18.2655512+01:00","close_reason":"Completed"}
{"id":"screen-ocr-llm-gn7","title":"Re-run full go test suite after test-fix issues","description":"After resolving all currently failing test issues, run go test ./... -count=1 and verify the full suite passes. Record any residual failures as separate bugs.","status":"closed","priority":2,"issue_type":"task","owner":"bogorad@gmail.com","created_at":"2026-02-14T13:16:17.2806485+01:00","created_by":"Eugene Bogorad","updated_at":"2026-02-14T13:23:19.4477094+01:00","closed_at":"2026-02-14T13:23:19.4477094+01:00","close_reason":"Completed","dependencies":[{"issue_id":"screen-ocr-llm-gn7","depends_on_id":"screen-ocr-llm-dq8","type":"blocks","created_at":"2026-02-14T13:16:24.8824422+01:00","created_by":"Eugene Bogorad"},{"issue_id":"screen-ocr-llm-gn7","depends_on_id":"screen-ocr-llm-2we","type":"blocks","created_at":"2026-02-14T13:16:25.18738+01:00","created_by":"Eugene Bogorad"},{"issue_id":"screen-ocr-llm-gn7","depends_on_id":"screen-ocr-llm-b4i","type":"blocks","created_at":"2026-02-14T13:16:25.4919051+01:00","created_by":"Eugene Bogorad"},{"issue_id":"screen-ocr-llm-gn7","depends_on_id":"screen-ocr-llm-f1f","type":"blocks","created_at":"2026-02-14T13:16:25.7859446+01:00","created_by":"Eugene Bogorad"},{"issue_id":"screen-ocr-llm-gn7","depends_on_id":"screen-ocr-llm-uic","type":"blocks","created_at":"2026-02-14T13:16:26.0594974+01:00","created_by":"Eugene Bogorad"}]}
{"id":"screen-ocr-llm-gor","title":"Adjust justfile Windows build to single app exe","description":"Update .justfile so Windows build target only outputs the main screen-ocr-llm.exe binary (resident + --run-once), removing extra ocr-tool.exe from default Windows build path.","status":"closed","priority":2,"issue_type":"task","owner":"bogorad@gmail.com","created_at":"2026-02-14T13:05:03.8197165+01:00","created_by":"Eugene Bogorad","updated_at":"2026-02-14T13:05:34.6465431+01:00","closed_at":"2026-02-14T13:05:34.6465431+01:00","close_reason":"Completed"}
{"id":"screen-ocr-llm-jgi","title":"Cobra migration and centralized key resolution","description":"Migrate option parsing to cobra and centralize API key/key-path processing for resident and CLI binaries with required precedence rules.","status":"closed","priority":1,"issue_type":"epic","owner":"bogorad@gmail.com","created_at":"2026-02-14T12:40:41.8624287+01:00","created_by":"Eugene Bogorad","updated_at":"2026-02-14T12:58:49.6753916+01:00","closed_at":"2026-02-14T12:58:49.6753916+01:00","close_reason":"Completed"}
{"id":"screen-ocr-llm-jgi.1","title":"Implement shared config resolver","description":"Add config.LoadWithOptions and centralized API key path/API key resolution with precedence: default path -\u003e env var -\u003e .env -\u003e CLI override for path; then key file -\u003e OPENROUTER_API_KEY value.","status":"closed","priority":1,"issue_type":"task","owner":"bogorad@gmail.com","created_at":"2026-02-14T12:40:47.3086237+01:00","created_by":"Eugene Bogorad","updated_at":"2026-02-14T12:58:48.7182396+01:00","closed_at":"2026-02-14T12:58:48.7182396+01:00","close_reason":"Completed","dependencies":[{"issue_id":"screen-ocr-llm-jgi.1","depends_on_id":"screen-ocr-llm-jgi","type":"parent-child","created_at":"2026-02-14T12:40:47.3116377+01:00","created_by":"Eugene Bogorad"}]}
{"id":"screen-ocr-llm-jgi.2","title":"Migrate CLI and resident flags to cobra","description":"Replace flag parsing in src/cmd/cli and src/main with cobra, add --api-key-path support, preserve run-once delegation behavior, and keep compatibility for legacy single-dash long flags.","status":"closed","priority":1,"issue_type":"task","owner":"bogorad@gmail.com","created_at":"2026-02-14T12:40:51.2817034+01:00","created_by":"Eugene Bogorad","updated_at":"2026-02-14T12:58:49.0925465+01:00","closed_at":"2026-02-14T12:58:49.0925465+01:00","close_reason":"Completed","dependencies":[{"issue_id":"screen-ocr-llm-jgi.2","depends_on_id":"screen-ocr-llm-jgi","type":"parent-child","created_at":"2026-02-14T12:40:51.2847018+01:00","created_by":"Eugene Bogorad"}]}
{"id":"screen-ocr-llm-jgi.3","title":"Update tests and documentation","description":"Update config and CLI tests for new precedence and cobra flags; update README docs for new options, precedence, and env var naming; ensure AGENTS reflects beads-only tracking rule.","status":"closed","priority":2,"issue_type":"task","owner":"bogorad@gmail.com","created_at":"2026-02-14T12:40:55.0414074+01:00","created_by":"Eugene Bogorad","updated_at":"2026-02-14T12:58:49.3868886+01:00","closed_at":"2026-02-14T12:58:49.3868886+01:00","close_reason":"Completed","dependencies":[{"issue_id":"screen-ocr-llm-jgi.3","depends_on_id":"screen-ocr-llm-jgi","type":"parent-child","created_at":"2026-02-14T12:40:55.0439067+01:00","created_by":"Eugene Bogorad"}]}
{"id":"screen-ocr-llm-jub","title":"Resident overlay misses Space/Escape key handling during selection","description":"In resident mode with global hotkey listener active, overlay window receives mouse messages but does not receive WM_KEYDOWN for Space/Escape. Lasso toggle works in --run-once but not resident hotkey flow. Implement key polling fallback so Space toggles mode and Escape cancels reliably while preserving existing WM_KEYDOWN path.","acceptance_criteria":"Resident and --run-once both support Space toggle and Escape cancel in selection overlay.","status":"closed","priority":1,"issue_type":"bug","owner":"bogorad@gmail.com","created_at":"2026-02-14T16:01:27.150124+01:00","created_by":"Eugene Bogorad","updated_at":"2026-02-14T16:02:34.1996198+01:00","closed_at":"2026-02-14T16:02:34.1996198+01:00","close_reason":"Added async key polling fallback in overlay to handle Space/Escape when WM_KEYDOWN is not delivered under resident hotkey hook"}
{"id":"screen-ocr-llm-lke","title":"Fix full go test suite failures in tests and singleinstance","description":"Full go test ./... fails for two reasons: tests package has multiple main functions plus an unused import in tests/debug_test.go, and src/singleinstance/TestServerClientRoundTrip times out waiting for round-trip completion. Reproduce with go test ./... -count=1 -timeout 60s.","notes":"Additional failure seen on current branch: src/gui/TestStartRegionSelection times out under go test ./... -count=1 -timeout 60s due interactive overlay wait. Full-suite output captured 2026-02-14.\nSplit into dedicated issues: screen-ocr-llm-dq8, screen-ocr-llm-2we, screen-ocr-llm-b4i, screen-ocr-llm-f1f, screen-ocr-llm-uic, with verification task screen-ocr-llm-gn7.","status":"closed","priority":2,"issue_type":"bug","owner":"bogorad@gmail.com","created_at":"2026-02-14T12:58:43.3494627+01:00","created_by":"Eugene Bogorad","updated_at":"2026-02-14T13:16:36.4230598+01:00","closed_at":"2026-02-14T13:16:36.4230598+01:00","close_reason":"Superseded by split test-specific issues"}
{"id":"screen-ocr-llm-mpr","title":"Document 2.6.0 lasso/default-mode release and ADR","description":"Update changelog, documentation indexes, and ADR catalog for v2.6.0. Add ADR for lasso selection/masked capture/default mode, refresh docs metadata dates, and align in-app About version text.","acceptance_criteria":"Docs and ADRs reflect 2.6.0 changes with consistent version/date references.","status":"closed","priority":2,"issue_type":"chore","owner":"bogorad@gmail.com","created_at":"2026-02-14T16:37:17.0806157+01:00","created_by":"Eugene Bogorad","updated_at":"2026-02-14T16:40:54.0075481+01:00","closed_at":"2026-02-14T16:40:54.0075481+01:00","close_reason":"Updated VERSION, changelog, root/docs READMEs, ADR index, and added ADR-010 for lasso/default-mode/masked-capture decisions"}
{"id":"screen-ocr-llm-o67","title":"Add justfile and expand test coverage for Cobra migration","description":"Create a repository justfile with chooser default and build/test recipes for Windows and Linux. Re-analyze current code changes and add focused missing tests for new Cobra/arg normalization paths.","status":"closed","priority":2,"issue_type":"task","owner":"bogorad@gmail.com","created_at":"2026-02-14T13:02:17.2341833+01:00","created_by":"Eugene Bogorad","updated_at":"2026-02-14T13:03:42.8716074+01:00","closed_at":"2026-02-14T13:03:42.8716074+01:00","close_reason":"Completed"}
{"id":"screen-ocr-llm-q4b","title":"Align ADR-007 with current defaults and refactor notes","description":"Update docs/adr/007-tcp-single-instance.md to reflect current default port range details and post-refactor implementation notes while preserving the original delegation decision.","status":"closed","priority":3,"issue_type":"task","owner":"bogorad@gmail.com","created_at":"2026-02-14T14:10:46.1886453+01:00","created_by":"Eugene Bogorad","updated_at":"2026-02-14T14:11:05.5565016+01:00","closed_at":"2026-02-14T14:11:05.5565016+01:00","close_reason":"Completed"}
{"id":"screen-ocr-llm-s9n","title":"Embed custom lasso cursor and use in overlay","description":"Include generated .cur cursor asset in the binary and use it for lasso mode instead of system hand cursor, with fallback if loading fails.","acceptance_criteria":"Lasso mode uses embedded custom cursor in resident and run-once overlays.","status":"closed","priority":2,"issue_type":"task","owner":"bogorad@gmail.com","created_at":"2026-02-14T16:29:14.513699+01:00","created_by":"Eugene Bogorad","updated_at":"2026-02-14T16:31:58.1850472+01:00","closed_at":"2026-02-14T16:31:58.1850472+01:00","close_reason":"Embedded custom lasso cursor asset and switched lasso-mode cursor from system hand to embedded .cur with safe fallback"}
{"id":"screen-ocr-llm-sj1","title":"Add F13-F24 hotkey mapping and tests","description":"Extend hotkey keycode mapping to include function keys F13 through F24 in src/hotkey/hotkey.go and add/adjust unit tests in src/hotkey/hotkey_mapping_test.go to validate mapping and parsing behavior.","status":"closed","priority":2,"issue_type":"task","owner":"bogorad@gmail.com","created_at":"2026-02-14T13:54:02.5598997+01:00","created_by":"Eugene Bogorad","updated_at":"2026-02-14T13:54:48.6756894+01:00","closed_at":"2026-02-14T13:54:48.6756894+01:00","close_reason":"Completed"}
{"id":"screen-ocr-llm-sou","title":"Fix tests/validation_test.go configuration precedence assertion","description":"tests/validation_test.go currently expects OPENROUTER_API_KEY env to win, but config now resolves API key from key file first. Update test setup to force deterministic env-path behavior and align with current precedence rules.","status":"closed","priority":2,"issue_type":"bug","owner":"bogorad@gmail.com","created_at":"2026-02-14T13:21:17.8998593+01:00","created_by":"Eugene Bogorad","updated_at":"2026-02-14T13:23:18.8682231+01:00","closed_at":"2026-02-14T13:23:18.8682231+01:00","close_reason":"Completed"}
{"id":"screen-ocr-llm-tyn","title":"Refactor run-once and resident flows without changing delegation","description":"Objective: remove duplicated OCR orchestration while preserving current product behavior and ADR contract. Scope includes src/main, src/eventloop, and shared runtime/session helpers. Must preserve both scenarios: (1) run-once with no resident active uses local fallback and exits; (2) run-once with resident active delegates via TCP and exits client immediately. Must keep single-instance enforcement, busy handling, countdown popup behavior, and existing config/API key precedence semantics. Non-goals: remove TCP/singleinstance, redesign UX, or alter Linux CLI architecture. Acceptance criteria: no behavior regressions in resident hotkey flow, delegated run-once flow, or standalone run-once fallback; duplicate code paths reduced with shared helpers; docs and tests updated.","status":"closed","priority":1,"issue_type":"epic","owner":"bogorad@gmail.com","created_at":"2026-02-14T13:32:03.5172252+01:00","created_by":"Eugene Bogorad","updated_at":"2026-02-14T13:51:17.6391107+01:00","closed_at":"2026-02-14T13:51:17.6391107+01:00","close_reason":"Completed"}
{"id":"screen-ocr-llm-tyn.1","title":"Capture behavior matrix and guardrails before refactor","description":"Create a concrete pre-refactor behavior matrix that defines required invariants for each path: resident hotkey, delegated run-once, standalone run-once fallback, and busy/error responses. Enumerate expected outputs: popup lifecycle, clipboard/stdout destination, exit behavior, and user-facing error messages. Add targeted logs or assertions only where required to validate invariants during refactor. Deliverable: a checklist used by all child tasks to prevent accidental semantic changes.","status":"closed","priority":1,"issue_type":"task","owner":"bogorad@gmail.com","created_at":"2026-02-14T13:32:11.0513158+01:00","created_by":"Eugene Bogorad","updated_at":"2026-02-14T13:37:05.5067396+01:00","closed_at":"2026-02-14T13:37:05.5067396+01:00","close_reason":"Completed","dependencies":[{"issue_id":"screen-ocr-llm-tyn.1","depends_on_id":"screen-ocr-llm-tyn","type":"parent-child","created_at":"2026-02-14T13:32:11.0538327+01:00","created_by":"Eugene Bogorad"}]}
{"id":"screen-ocr-llm-tyn.2","title":"Extract shared runtime bootstrap for config and package initialization","description":"Refactor duplicated startup logic from src/main/main.go into a shared bootstrap layer used by resident startup and standalone run-once fallback. Shared bootstrap responsibilities: config.LoadWithOptions, API key/model validation, logging setup, llm.Init plus llm.Ping, screenshot.Init, ocr.Init, and clipboard.Init. Maintain current error text and failure semantics. Keep platform-specific concerns in existing windows/stub files and avoid introducing cross-platform regressions. Acceptance criteria: bootstrap called from both paths; no duplicate init blocks remain; package-level tests still pass for changed packages.","status":"closed","priority":1,"issue_type":"task","owner":"bogorad@gmail.com","created_at":"2026-02-14T13:32:18.6352964+01:00","created_by":"Eugene Bogorad","updated_at":"2026-02-14T13:39:32.8091694+01:00","closed_at":"2026-02-14T13:39:32.8091694+01:00","close_reason":"Completed","dependencies":[{"issue_id":"screen-ocr-llm-tyn.2","depends_on_id":"screen-ocr-llm-tyn","type":"parent-child","created_at":"2026-02-14T13:32:18.638294+01:00","created_by":"Eugene Bogorad"},{"issue_id":"screen-ocr-llm-tyn.2","depends_on_id":"screen-ocr-llm-tyn.1","type":"blocks","created_at":"2026-02-14T13:33:20.1598169+01:00","created_by":"Eugene Bogorad"}]}
{"id":"screen-ocr-llm-tyn.3","title":"Implement shared OCR session executor with pluggable result targets","description":"Design and implement a shared session execution component that performs: region selection, countdown popup start/update/close, OCR execution with deadline handling, and result delivery. Result delivery must support at minimum: clipboard target, stdout target, and delegated connection target. Keep current popup and timeout semantics. Avoid introducing new behavior; this task is architectural consolidation only. Acceptance criteria: one reusable session path exists and can be invoked by resident and standalone run-once code paths with equivalent observable behavior.","status":"closed","priority":1,"issue_type":"task","owner":"bogorad@gmail.com","created_at":"2026-02-14T13:32:24.420969+01:00","created_by":"Eugene Bogorad","updated_at":"2026-02-14T13:40:44.1596062+01:00","closed_at":"2026-02-14T13:40:44.1596062+01:00","close_reason":"Completed","dependencies":[{"issue_id":"screen-ocr-llm-tyn.3","depends_on_id":"screen-ocr-llm-tyn","type":"parent-child","created_at":"2026-02-14T13:32:24.4234671+01:00","created_by":"Eugene Bogorad"},{"issue_id":"screen-ocr-llm-tyn.3","depends_on_id":"screen-ocr-llm-tyn.1","type":"blocks","created_at":"2026-02-14T13:33:20.4843616+01:00","created_by":"Eugene Bogorad"}]}
{"id":"screen-ocr-llm-tyn.4","title":"Unify eventloop hotkey and delegated request execution paths","description":"Refactor src/eventloop/eventloop.go so hotkey-triggered work and delegated run-once work share the same internal start-session and handle-result machinery. Preserve busy-state semantics, tray tooltip updates, worker pool usage, and delegated response handling. Ensure no double-close or blocked channel conditions are introduced. Acceptance criteria: duplicated branches in handleHotkey and handleConn are minimized via shared helper(s) while resident behavior remains unchanged.","status":"closed","priority":1,"issue_type":"task","owner":"bogorad@gmail.com","created_at":"2026-02-14T13:32:33.2296936+01:00","created_by":"Eugene Bogorad","updated_at":"2026-02-14T13:42:36.2462662+01:00","closed_at":"2026-02-14T13:42:36.2462662+01:00","close_reason":"Completed","dependencies":[{"issue_id":"screen-ocr-llm-tyn.4","depends_on_id":"screen-ocr-llm-tyn","type":"parent-child","created_at":"2026-02-14T13:32:33.2322276+01:00","created_by":"Eugene Bogorad"},{"issue_id":"screen-ocr-llm-tyn.4","depends_on_id":"screen-ocr-llm-tyn.3","type":"blocks","created_at":"2026-02-14T13:33:20.7831878+01:00","created_by":"Eugene Bogorad"}]}
{"id":"screen-ocr-llm-tyn.5","title":"Refactor main run-once fallback to shared session pipeline","description":"Update src/main/main.go so local run-once fallback reuses the same shared session executor used by resident handling, while keeping delegation decision logic intact. Keep current branch behavior: try TCP delegation first, then fallback on no resident or delegation error. Preserve api-key-path override handling, stdout/clipboard routing semantics, and exit behavior. Acceptance criteria: standalone run-once path no longer duplicates full OCR orchestration logic and still matches pre-refactor behavior matrix.","status":"closed","priority":1,"issue_type":"task","owner":"bogorad@gmail.com","created_at":"2026-02-14T13:32:38.8673824+01:00","created_by":"Eugene Bogorad","updated_at":"2026-02-14T13:44:03.5865991+01:00","closed_at":"2026-02-14T13:44:03.5865991+01:00","close_reason":"Completed","dependencies":[{"issue_id":"screen-ocr-llm-tyn.5","depends_on_id":"screen-ocr-llm-tyn","type":"parent-child","created_at":"2026-02-14T13:32:38.8699002+01:00","created_by":"Eugene Bogorad"},{"issue_id":"screen-ocr-llm-tyn.5","depends_on_id":"screen-ocr-llm-tyn.2","type":"blocks","created_at":"2026-02-14T13:33:21.0830374+01:00","created_by":"Eugene Bogorad"},{"issue_id":"screen-ocr-llm-tyn.5","depends_on_id":"screen-ocr-llm-tyn.3","type":"blocks","created_at":"2026-02-14T13:33:21.397196+01:00","created_by":"Eugene Bogorad"}]}
{"id":"screen-ocr-llm-tyn.6","title":"Add regression tests for delegation and fallback scenarios","description":"Add focused tests for both critical scenarios: (A) run-once with no resident active falls back locally; (B) run-once with resident active delegates and exits client path without local OCR execution. Add coverage for busy response behavior and singleinstance round-trip stability where needed. Use incremental package-level tests during implementation and avoid unnecessary full-suite reruns until handoff. Acceptance criteria: tests fail before regressions and pass after refactor, with deterministic behavior in CI/local automation.","status":"closed","priority":1,"issue_type":"task","owner":"bogorad@gmail.com","created_at":"2026-02-14T13:32:45.6472384+01:00","created_by":"Eugene Bogorad","updated_at":"2026-02-14T13:45:22.1135097+01:00","closed_at":"2026-02-14T13:45:22.1135097+01:00","close_reason":"Completed","dependencies":[{"issue_id":"screen-ocr-llm-tyn.6","depends_on_id":"screen-ocr-llm-tyn","type":"parent-child","created_at":"2026-02-14T13:32:45.6502573+01:00","created_by":"Eugene Bogorad"},{"issue_id":"screen-ocr-llm-tyn.6","depends_on_id":"screen-ocr-llm-tyn.4","type":"blocks","created_at":"2026-02-14T13:33:21.6919198+01:00","created_by":"Eugene Bogorad"},{"issue_id":"screen-ocr-llm-tyn.6","depends_on_id":"screen-ocr-llm-tyn.5","type":"blocks","created_at":"2026-02-14T13:33:21.9922243+01:00","created_by":"Eugene Bogorad"}]}
{"id":"screen-ocr-llm-tyn.8","title":"Update architecture docs and handoff notes for refactor","description":"Update relevant docs to describe the consolidated execution architecture while explicitly stating delegation behavior is unchanged. If README or ADR-007 details drift from implementation, reconcile them. Document behavior matrix and key internal helper boundaries for maintainers. Acceptance criteria: docs accurately reflect resident, delegated run-once, and fallback run-once flows after refactor.","status":"closed","priority":2,"issue_type":"task","owner":"bogorad@gmail.com","created_at":"2026-02-14T13:33:02.0181118+01:00","created_by":"Eugene Bogorad","updated_at":"2026-02-14T13:46:11.3158557+01:00","closed_at":"2026-02-14T13:46:11.3158557+01:00","close_reason":"Completed","dependencies":[{"issue_id":"screen-ocr-llm-tyn.8","depends_on_id":"screen-ocr-llm-tyn","type":"parent-child","created_at":"2026-02-14T13:33:02.0206039+01:00","created_by":"Eugene Bogorad"},{"issue_id":"screen-ocr-llm-tyn.8","depends_on_id":"screen-ocr-llm-tyn.4","type":"blocks","created_at":"2026-02-14T13:33:22.2992076+01:00","created_by":"Eugene Bogorad"},{"issue_id":"screen-ocr-llm-tyn.8","depends_on_id":"screen-ocr-llm-tyn.5","type":"blocks","created_at":"2026-02-14T13:33:22.5966904+01:00","created_by":"Eugene Bogorad"}]}
{"id":"screen-ocr-llm-tyn.9","title":"Final verification and release checklist for delegation-preserving refactor","description":"Execute final verification after child tasks complete: run incremental tests for changed packages and one full go test ./... at handoff; run go vet on changed packages; perform build checks for Windows app and Linux CLI targets; confirm no executables are tracked; confirm behavior matrix pass for resident hotkey, delegated run-once, and standalone fallback paths. Close epic only after all child issues are complete and verification evidence is captured.","status":"closed","priority":2,"issue_type":"task","owner":"bogorad@gmail.com","created_at":"2026-02-14T13:33:10.6657269+01:00","created_by":"Eugene Bogorad","updated_at":"2026-02-14T13:51:17.1442721+01:00","closed_at":"2026-02-14T13:51:17.1442721+01:00","close_reason":"Completed","dependencies":[{"issue_id":"screen-ocr-llm-tyn.9","depends_on_id":"screen-ocr-llm-tyn","type":"parent-child","created_at":"2026-02-14T13:33:10.6682272+01:00","created_by":"Eugene Bogorad"},{"issue_id":"screen-ocr-llm-tyn.9","depends_on_id":"screen-ocr-llm-tyn.6","type":"blocks","created_at":"2026-02-14T13:33:22.9237506+01:00","created_by":"Eugene Bogorad"},{"issue_id":"screen-ocr-llm-tyn.9","depends_on_id":"screen-ocr-llm-tyn.8","type":"blocks","created_at":"2026-02-14T13:33:23.2050279+01:00","created_by":"Eugene Bogorad"}]}
{"id":"screen-ocr-llm-tyr","title":"Update README hotkey docs for F13-F24 support","description":"Add explicit hotkey key range documentation to README to mention support for F1-F24 and include an F13 example.","status":"closed","priority":3,"issue_type":"task","owner":"bogorad@gmail.com","created_at":"2026-02-14T14:08:49.3014492+01:00","created_by":"Eugene Bogorad","updated_at":"2026-02-14T14:09:14.8295498+01:00","closed_at":"2026-02-14T14:09:14.8295498+01:00","close_reason":"Completed"}
{"id":"screen-ocr-llm-uic","title":"Fix src/singleinstance TestServerClientRoundTrip timeout","description":"go test ./... -count=1 -timeout 60s times out in src/singleinstance/TestServerClientRoundTrip with client and server goroutines blocked during TCP round-trip. Fix the test and or underlying timeout handling so it completes reliably.","status":"closed","priority":1,"issue_type":"bug","owner":"bogorad@gmail.com","created_at":"2026-02-14T13:16:13.0526156+01:00","created_by":"Eugene Bogorad","updated_at":"2026-02-14T13:23:18.5738279+01:00","closed_at":"2026-02-14T13:23:18.5738279+01:00","close_reason":"Completed"}
{"id":"screen-ocr-llm-wv5","title":"Debounce overlay Space toggle to avoid immediate mode flip","description":"Resident logs show Space is detected and mode toggles to lasso, then toggles back to rect within the same second from rapid duplicate key events. Add a short debounce window so one physical press cannot flip modes twice.","acceptance_criteria":"A single Space press during overlay results in exactly one mode change visible to the user.","status":"closed","priority":1,"issue_type":"bug","owner":"bogorad@gmail.com","created_at":"2026-02-14T16:07:20.6009748+01:00","created_by":"Eugene Bogorad","updated_at":"2026-02-14T16:08:24.4930023+01:00","closed_at":"2026-02-14T16:08:24.4930023+01:00","close_reason":"Added 300ms mode-toggle debounce to prevent duplicate Space events flipping back immediately"}
